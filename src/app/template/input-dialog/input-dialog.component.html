<div class="container">
    <mat-card>
        <h2>Inserisci codice di tracciatura</h2>

        <mat-card-content>
            <form [formGroup]="inputForm">
                <div class="form-row">
                    <mat-form-field appearance="outline">
                        <mat-label>Corriere</mat-label>
                        <mat-select formControlName="courier" required>
                            <mat-option *ngFor="let option of courierOptions" [value]="option">{{ option }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="inputForm.get('courier')?.invalid && inputForm.get('courier')?.touched">Questo campo è obbligatorio!</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Codice di tracciatura</mat-label>
                        <input matInput formControlName="trackingId" placeholder="Inserisci codice di tracciatura" required>
                        <mat-error *ngIf="inputForm.get('trackingId')?.invalid && inputForm.get('trackingId')?.touched">Questo campo è obbligatorio!</mat-error>
                        <mat-error *ngIf="inputForm.get('trackingId')?.hasError('pattern')">Inserisci solo caratteri alfanumerici!</mat-error>
                        <mat-error *ngIf="inputForm.get('trackingId')?.hasError('minlength')">Inserisci almeno 8 caratteri!</mat-error>
                        <mat-error *ngIf="inputForm.get('trackingId')?.hasError('maxlength')">Inserisci al più 30 caratteri!</mat-error>
                    </mat-form-field>
                </div>

                <mat-dialog-actions>
                    <button mat-raised-button class="confirm-button" type="submit" (click)="submitInput()" [disabled]="inputForm.invalid" [ngClass]="{'disabled-button': inputForm.invalid, 'enabled-button': !inputForm.invalid}">
                        Conferma
                    </button>
                    <button mat-raised-button class="cancel-button" type="button" (click)="closeDialog()">
                        Annulla
                    </button>
                </mat-dialog-actions>
            </form>
        </mat-card-content>
    </mat-card>
</div>
